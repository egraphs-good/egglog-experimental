; Generated polynomial rearranging benchmark test
(include "polynomial-basic-rules.egg")

; Original expanded polynomial
(let e1 (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Coefficient -6.0 (Var "w")) (Coefficient -5.0 (Var "y"))) (Coefficient 2.0 (Var "z"))) (Coefficient 4.0 (Var "v"))) (Coefficient 6.0 (Var "x"))) (Coefficient 9.0 (Power (Var "y") 2))) (Mul (Var "v") (Power (Var "x") 3))) (Coefficient -3.0 (Mul (Var "x") (Power (Var "z") 3)))) (Coefficient -2.0 (Mul (Var "z") (Power (Var "y") 3)))) (Coefficient -2.0 (Mul (Power (Var "v") 2) (Power (Var "z") 2)))) (Coefficient -2.0 (Mul (Power (Var "y") 3) (Power (Var "z") 3)))) (Coefficient 2.0 (Mul (Var "v") (Power (Var "w") 2)))) (Coefficient 2.0 (Mul (Var "v") (Power (Var "x") 2)))) (Coefficient 2.0 (Mul (Power (Var "v") 2) (Power (Var "y") 2)))) (Coefficient 2.0 (Mul (Power (Var "w") 3) (Power (Var "x") 2)))) (Coefficient 3.0 (Mul (Var "v") (Power (Var "y") 3)))) (Coefficient 3.0 (Mul (Var "y") (Power (Var "w") 2)))) (Coefficient 5.0 (Mul (Var "w") (Var "x")))) (Coefficient 5.0 (Mul (Var "x") (Power (Var "w") 2)))) (Coefficient -4.0 (Mul (Mul (Var "x") (Var "z")) (Power (Var "v") 2)))) (Coefficient -3.0 (Mul (Mul (Var "w") (Power (Var "v") 2)) (Power (Var "y") 2)))) (Coefficient 2.0 (Mul (Mul (Var "w") (Power (Var "v") 3)) (Power (Var "x") 3)))) (Coefficient 3.0 (Mul (Mul (Var "x") (Var "z")) (Power (Var "w") 2)))) (Coefficient 3.0 (Mul (Mul (Var "z") (Power (Var "x") 3)) (Power (Var "y") 3)))) (Coefficient 4.0 (Mul (Mul (Var "x") (Power (Var "v") 3)) (Power (Var "z") 2)))) (Coefficient 4.0 (Mul (Mul (Var "x") (Power (Var "w") 3)) (Power (Var "z") 2)))))

; Rearranged expanded polynomial
(let e2 (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Add (Coefficient -6.0 (Var "w")) (Coefficient -5.0 (Var "y"))) (Coefficient 2.0 (Var "z"))) (Coefficient 4.0 (Var "v"))) (Coefficient 6.0 (Var "x"))) (Coefficient 9.0 (Power (Var "y") 2))) (Mul (Var "v") (Power (Var "x") 3))) (Coefficient -3.0 (Mul (Var "x") (Power (Var "z") 3)))) (Coefficient -2.0 (Mul (Var "z") (Power (Var "y") 3)))) (Coefficient -2.0 (Mul (Power (Var "v") 2) (Power (Var "z") 2)))) (Coefficient -2.0 (Mul (Power (Var "y") 3) (Power (Var "z") 3)))) (Coefficient 2.0 (Mul (Var "v") (Power (Var "w") 2)))) (Coefficient 2.0 (Mul (Var "v") (Power (Var "x") 2)))) (Coefficient 2.0 (Mul (Power (Var "v") 2) (Power (Var "y") 2)))) (Coefficient 2.0 (Mul (Power (Var "w") 3) (Power (Var "x") 2)))) (Coefficient 3.0 (Mul (Var "v") (Power (Var "y") 3)))) (Coefficient 3.0 (Mul (Var "y") (Power (Var "w") 2)))) (Coefficient 5.0 (Mul (Var "w") (Var "x")))) (Coefficient 5.0 (Mul (Var "x") (Power (Var "w") 2)))) (Coefficient -4.0 (Mul (Mul (Var "x") (Var "z")) (Power (Var "v") 2)))) (Coefficient -3.0 (Mul (Mul (Var "w") (Power (Var "v") 2)) (Power (Var "y") 2)))) (Coefficient 2.0 (Mul (Mul (Var "w") (Power (Var "v") 3)) (Power (Var "x") 3)))) (Coefficient 3.0 (Mul (Mul (Var "x") (Var "z")) (Power (Var "w") 2)))) (Coefficient 3.0 (Mul (Mul (Var "z") (Power (Var "x") 3)) (Power (Var "y") 3)))) (Coefficient 4.0 (Mul (Mul (Var "x") (Power (Var "v") 3)) (Power (Var "z") 2)))) (Coefficient 4.0 (Mul (Mul (Var "x") (Power (Var "w") 3)) (Power (Var "z") 2)))))


(run-schedule (saturate (run)))
(check (= e1 e2))
